# Input 组件 3.5.7 版本 Diff 报告

## 版本信息
- 正式版本: 3.5.7
- 包含 Beta 版本: 3.5.7-beta.1 ~ 3.5.7-beta.7
- 发布日期: 2025-01-14

## 详细变更

### 3.5.7-beta.5
- **变更类型**: 修复问题
- **复现示例**: 无
- **变更描述**: 修复 `Input` 设置 `type='number'` 且开启 `coin` 属性后值为数字 0 时展示异常的问题
- **PR**: [#916](https://github.com/sheinsight/shineout-next/pull/916)
- **影响组件**: Input
- **问题原因**: 在处理数字类型输入框的千分位格式化时，值为 0 时的类型判断逻辑有误，导致 0 值无法正确显示

#### Bug 特征
- 当 Input 组件设置 `type='number'` 且开启 `coin` 属性时，如果值为数字 0，组件显示空白而非 "0"
- 其他非 0 数值显示正常
- 仅影响数值类型为 0 的初始化和赋值场景

**代码模式**：
```jsx
// 容易出现问题的代码结构
<Input
  type="number"
  coin={true}
  value={0}  // 数字 0 会显示异常
/>
```

#### 排查规则
- 搜索设置了 `type='number'` 且开启了 `coin` 属性的 Input 组件

### 3.5.7-beta.7
- **变更类型**: 修复问题 / 性能优化
- **复现示例**: 无
- **变更描述**: 优化 `Input` 在 `type='number'` 开启 `coin` 下输入溢出内容时的交互逻辑、修复 `Input` 开启 `coin` 情况下初始化数据不展示千分号的问题
- **PR**: [#919](https://github.com/sheinsight/shineout-next/pull/919)
- **影响组件**: Input
- **问题原因**: 1) 千分位格式化的初始化状态设置不正确，导致组件首次渲染时不显示千分号；2) 数字类型输入框在处理溢出内容时的交互逻辑不完善，小数位数修正机制存在问题

#### Bug 特征
- Input 组件开启 `coin` 属性时，初始化数据不显示千分号，需要用户操作后才显示
- 在 `type='number'` 且开启 `coin` 的场景下，输入超出限制的内容时，小数部分可能被意外截断
- 影响数字格式化的视觉一致性和用户体验

**代码模式**：
```jsx
// 容易出现问题的代码结构
<Input
  type="number"
  coin={true}
  value={12345}  // 初始化时可能不显示为 "12,345"
  digits={2}     // 配合小数位限制时可能出现截断
/>
```

#### 排查规则
- 搜索开启了 `coin` 属性和 设置了 `type='number'` 的 Input 组件

## Breaking Changes

无

## 风险等级

**中**：
- 包含两个回归问题修复，影响数字输入框的显示和交互
- 主要影响使用 `coin` 属性进行千分位格式化的场景
- 修复了值为 0 时的显示异常和初始化时千分号缺失的问题
- 可能影响依赖千分位格式化的业务逻辑和用户体验

## 版本修复历史

1. **3.5.7-beta.5**：修复数字 0 在开启千分位格式化时的显示异常
2. **3.5.7-beta.7**：修复初始化时千分号不显示的问题，同时优化溢出内容的处理逻辑