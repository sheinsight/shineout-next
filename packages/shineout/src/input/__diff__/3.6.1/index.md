# Input 组件 3.6.1 版本 Diff 报告

## 版本信息
- 正式版本: 3.6.1
- 包含 Beta 版本: 3.6.1-beta.1 ~ 3.6.1-beta.7
- 发布日期: 2025-03-31

## 详细变更

### 3.6.1-beta.1
- **变更类型**: 修复问题
- **变更标签**: 布局
- **复现示例**: 无
- **变更描述**: 修复 `Input.Group` 的 `flex: 1` 样式丢失问题
- **PR**: 无
- **影响组件**: Input.Group
- **问题原因**: 样式文件中 `flex: 1` 属性被注释，导致 Input.Group 内的 Input 组件无法正确进行弹性布局

#### Bug 特征
- Input.Group 中的 Input 组件无法正确填充可用空间
- 可能出现布局异常和组件宽度计算问题
- 影响 Input.Group 在容器中的展示效果

**代码模式**：
```jsx
// 容易出现问题的代码结构
<Input.Group>
  <Input />  // 可能无法正确填充空间
  <Input />
</Input.Group>
```

#### 排查规则
- 搜索使用了 `Input.Group` 组件的代码
- 搜索涉及弹性布局的 Input.Group 场景

### 3.6.1-beta.4
- **变更类型**: 修复问题
- **变更标签**: 传参
- **复现示例**: 无
- **变更描述**: 修复 `Input.Group` 下面的 `Input` 的 `onBlur` 和 `onFocus` 回调函数的参数格式不正确的问题
- **PR**: [#1014](https://github.com/sheinsight/shineout-next/pull/1014)
- **影响组件**: Input.Group
- **问题原因**: 事件处理器在调用原始回调函数时，错误地将参数作为数组传递，而不是使用展开语法传递单个参数

#### Bug 特征
- Input.Group 中子 Input 组件的 `onBlur` 和 `onFocus` 事件回调函数接收到的参数格式错误
- 事件回调函数接收到被包装在数组中的参数，而不是原生事件对象
- 影响事件处理逻辑的正确执行

**代码模式**：
```jsx
// 容易出现问题的代码结构
<Input.Group>
  <Input 
    onFocus={(e) => {
      // e 可能是数组而不是事件对象
    }}
    onBlur={(e) => {
      // e 可能是数组而不是事件对象
    }}
  />
</Input.Group>
```

#### 排查规则
- 搜索在 `Input.Group` 中使用了 `onFocus` 或 `onBlur` 属性的 Input 组件
- 搜索依赖事件对象属性的 Input 事件处理函数

### 3.6.1-beta.7
- **变更类型**: 修复问题
- **变更标签**: 功能
- **复现示例**: 无
- **变更描述**: 修复 `Input.Number` 输入"0.0"这种格式时小数点丢失的问题
- **PR**: [#1021](https://github.com/sheinsight/shineout-next/pull/1021)
- **影响组件**: Input.Number
- **问题原因**: 在数字输入处理逻辑中，只检查字符串是否以小数点结尾，没有考虑像"0.0"这种以0结尾但包含小数点的情况

#### Bug 特征
- 用户在 Input.Number 组件中输入"0.0"、"1.0"等格式时，小数点后的0被意外删除
- 影响需要明确显示小数位数的场景
- 仅影响以0结尾且包含小数点的数字输入

**代码模式**：
```jsx
// 容易出现问题的代码结构
<Input.Number
  value="0.0"  // 小数点后的0可能丢失
  // 或者用户输入 "1.0" 等格式
/>
```

#### 排查规则
- 搜索使用了 `Input.Number` 组件的代码
- 搜索涉及精确小数位数显示需求的数字输入场景

## Breaking Changes

无

## 风险等级

**低**：
- 主要为 Bug 修复，不涉及 API 变更
- 修复了布局、事件处理和数字输入的问题
- 所有修复均向后兼容，提升组件稳定性和用户体验