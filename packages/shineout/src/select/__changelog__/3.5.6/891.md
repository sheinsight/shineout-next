# BugFix - PR #891

**版本**: 3.5.6  
**日期**: 2025-01-06  
**类型**: BugFix  

## 变更内容

修复 `Select` 多选模式下，开启 `onFilter` 后且使用 `open` 做面板受控打开时，自动聚焦失效的问题 ([#891](https://github.com/sheinsight/shineout-next/pull/891))

## 详细说明

此变更修复或优化了 Select 组件的特定功能。

## 影响范围

- **失效条件**：
  - `multiple` = true
  - 开启 `onFilter`
  - 使用 `open` 属性控制面板打开
  - 通过代码控制 open 从 false 变为 true
- **问题**：面板打开后输入框不自动聚焦
- **影响**：用户需要手动点击才能开始搜索
- **相关属性交互**：open + onFilter + multiple
## 使用场景

### 场景代码
```jsx
const [open, setOpen] = useState(false);

<Select
  multiple
  open={open}
  onFilter={(text, item) => item.includes(text)}
  data={data}
/>

// 程序控制打开
<Button onClick={() => setOpen(true)}>打开选择</Button>
```

### 期望行为
1. 点击按钮，open 变为 true
2. 下拉面板展开
3. 输入框自动获得焦点 ✓（修复后）

### 实际问题（修复前）
- 步骤 3 失败，需手动点击输入框