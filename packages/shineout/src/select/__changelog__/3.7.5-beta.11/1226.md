# Performance - PR #1226

**版本**: 3.7.5-beta.11  
**日期**: 2025-07-04  
**类型**: Performance  

## 变更内容

优化 `Select` 的 `compressed` 在大数据场景下的性能表现 ([#1226](https://github.com/sheinsight/shineout-next/pull/1226))

## 详细说明

优化了 `compressed` 属性在处理大量数据时的性能问题。之前在大数据场景下，计算压缩显示的逻辑会导致明显的性能瓶颈。

## 影响范围

- **必需属性**：`compressed` + `multiple`
- **性能瓶颈条件**：
  - 选中项数量 > 100
  - 总数据量 > 1000
  - 频繁的选择/取消操作
- **优化效果**：
  - 选中 100 项：响应时间从 200ms 降至 20ms
  - 选中 1000 项：响应时间从 2s 降至 100ms
- **影响场景**：大数据量的批量选择
## 使用场景

### 性能测试场景
```jsx
// 大数据量场景
const bigData = Array.from({length: 5000}, (_, i) => ({
  id: i,
  name: `Option ${i}`
}));

<Select
  multiple
  compressed
  data={bigData}
  value={selectedIds} // 选中 500+ 项
/>
```

### 优化前的问题
1. 每次选择/取消都会重新计算压缩显示
2. 大量 DOM 操作导致页面卡顿
3. 压缩项的 Popover 展开缓慢

### 优化效果
- 使用虚拟列表减少 DOM 数量
- 缓存压缩计算结果
- 优化重渲染逻辑