# BugFix - PR #1232

**版本**: 3.7.6-beta.2  
**日期**: 2025-07-08  
**类型**: BugFix  

## 变更内容

修复 `Select` 开启 `highlight` 后在 renderItem 中渲染非单层 dom 结构功能失效的问题 ([#1232](https://github.com/sheinsight/shineout-next/pull/1232))

## 详细说明

当开启 `highlight` 属性后，如果 `renderItem` 返回的是复杂的 DOM 结构（非单层），高亮功能会失效。这是因为高亮处理逻辑只考虑了单层 DOM 结构的情况。

## 影响范围

- **必需属性组合**：`highlight` + `renderItem`
- **触发条件**：
  - `highlight` 设置为 true
  - `renderItem` 返回嵌套的 DOM 结构（非单层）
  - 用户输入搜索关键字
- **问题表现**：搜索关键字高亮失效
- **具体限制**：renderItem 返回如 <div><span>text</span></div> 的嵌套结构
- **发生概率**：100%（renderItem 返回复杂结构时必现）
## 使用场景

### 失效的代码示例
```jsx
<Select
  data={data}
  highlight={true}
  onFilter={(text, item) => item.name.includes(text)}
  renderItem={(item) => (
    <div className="custom-option">
      <Icon type="user" />
      <span>{item.name}</span>
      <span className="desc">{item.description}</span>
    </div>
  )}
/>
```

### 正常工作的代码
```jsx
// 简单结构可以正常高亮
renderItem={(item) => item.name}
// 或
renderItem={(item) => <span>{item.name}</span>}
```

### 影响场景
- 自定义选项样式（带图标、描述等）
- 复杂的选项布局
- 需要同时使用搜索高亮和自定义渲染