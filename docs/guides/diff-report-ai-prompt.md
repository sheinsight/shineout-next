# Diff 报告 AI 生成提示词模板

## 标准提示词

```
根据以下信息生成 [组件名] 组件 [版本号] 的 diff 报告：

1. 变更描述：[从 changelog 复制的描述]
2. PR 编号：#[编号]
3. Commit hash：[hash]

要求：
1. 严格按照以下章节顺序生成，不要使用编号：
   - 标题：[组件名] 组件 [版本号] 版本 Diff 报告
   - 问题描述
   - 代码变更文件
   - 变更代码行
   - 变更前后逻辑差异
   - 逻辑影响范围
   - 升级注意事项（包含"代码兼容性"和"行为变化说明"子章节）

2. 不要添加以下内容：
   - 测试建议
   - 总结
   - 编号形式的章节标题（如 ## 1. 问题描述）

3. 升级注意事项的"行为变化说明"必须包含：
   - 影响场景
   - 具体表现
   - 受影响代码示例（带有"之前/现在"注释）
   - 是否需要调整

参考 checkbox 3.4.3 或 dropdown 3.3.2 的格式。
```

## 具体示例提示词

### 新功能类
```
生成 Menu 组件 3.4.0 版本的 diff 报告。

changelog 描述：Menu 新增父节点激活状态下的文字颜色 token (#659)

这是一个新功能，新增了 menuItemInpathActiveFontColor token，允许独立配置父节点在激活路径上的文字颜色。

请分析 commit 8789edac 的变更，严格按照标准 diff 报告格式生成，参考 dropdown 3.4.0 的格式。
```

### 缺陷修复类
```
生成 Pagination 组件 3.6.1-beta.2 版本的 diff 报告。

changelog 描述：修复 Pagination 的 simple 模式输入框不展示当前页的问题（Regression：since v3.6.0）(#1010)

这是一个缺陷修复，simple 模式下的输入框没有显示当前页码。

请分析相关 commit，严格按照标准 diff 报告格式生成，参考 checkbox 3.4.3 的格式。
```

### 优化改进类
```
生成 Pagination 组件 3.2.3 版本的 diff 报告。

changelog 描述：
- 优化 Pagination 数字按钮点击逻辑，当分页数不变的时候不触发 onChange (#546)
- 修复 Pagination 属性 onChange 的参数 sizeChange 计算错误的问题 (#546)

这包含一个优化和一个修复。

请分析 commit，严格按照标准 diff 报告格式生成。
```

## 补充信息模板

如果 AI 需要更多信息，使用以下模板提供：

```
补充信息：
1. 主要变更文件：
   - packages/base/src/[component]/[file].tsx
   - packages/base/src/[component]/[file].type.ts

2. 关键代码变更：
   ```diff
   [具体的 diff 内容]
   ```

3. 变更影响：[描述这个变更对用户的影响]

请基于这些信息完善 diff 报告。
```

## 质量检查提示词

```
请检查生成的 diff 报告是否符合以下要求：
1. 包含且仅包含 7 个指定章节
2. 没有使用编号的章节标题
3. 升级注意事项包含完整的行为变化说明
4. 代码示例有"之前/现在"的对比
5. 明确告知用户是否需要调整代码

如有不符，请修正。
```

## 批量生成提示词

```
需要按照标准格式重新生成以下组件的 diff 报告：
1. [组件1] - [版本列表]
2. [组件2] - [版本列表]

要求：
- 严格遵循 checkbox 和 dropdown 的 diff 报告格式
- 每个报告都包含标准的 7 个章节
- 不添加测试建议等额外章节
- 升级注意事项必须包含代码兼容性和行为变化说明

请逐个生成这些 diff 报告。
```